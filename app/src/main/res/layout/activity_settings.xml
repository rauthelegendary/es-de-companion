<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#0A0A0A">

    <!-- Fixed Header -->
    <RelativeLayout
        android:id="@+id/settingsHeader"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:background="#1A1A1A"
        android:padding="16dp"
        android:elevation="4dp">

        <ImageButton
            android:id="@+id/settingsBackButton"
            android:layout_width="48dp"
            android:layout_height="48dp"
            android:layout_alignParentStart="true"
            android:layout_centerVertical="true"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:src="@drawable/ic_arrow_back"
            android:contentDescription="Back to Main Screen"
            app:tint="#FFFFFF" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerInParent="true"
            android:text="Settings"
            android:textColor="#FFFFFF"
            android:textSize="24sp"
            android:textStyle="bold" />

    </RelativeLayout>

    <!-- Scrollable Content -->
    <ScrollView
        android:id="@+id/settingsScrollView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_below="@id/settingsHeader">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

        <!-- Quick Setup Button -->
        <Button
            android:id="@+id/setupWizardButton"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="ðŸš€ Run Quick Setup"
            android:textColor="#FFFFFF"
            android:textSize="16sp"
            android:backgroundTint="#03DAC6"
            android:padding="16dp"
            android:layout_marginBottom="24dp" />


        <!-- 1. IMAGE SETTINGS CARD -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardBackgroundColor="#1A1A1A"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <!-- Section Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@android:drawable/ic_menu_gallery"
                        app:tint="#FFB74D"
                        android:layout_marginEnd="12dp" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="MEDIA SETTINGS"
                        android:textColor="#FFB74D"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:letterSpacing="0.1" />
                </LinearLayout>

                <!-- System View Background Priority -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="System View Background Image"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Which background to use when browsing systems"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/systemImagePreferenceChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/systemImagePrefFanart"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Fanart"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/systemImagePrefScreenshot"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Screenshot"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/systemImagePrefSolidColor"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Solid Color"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                </com.google.android.material.chip.ChipGroup>

                <!-- System Color Picker (shown when Solid Color is selected) -->
                <LinearLayout
                    android:id="@+id/systemColorPickerLayout"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:visibility="gone"
                    android:layout_marginBottom="8dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Background Color"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <Button
                        android:id="@+id/systemColorPickerButton"
                        android:layout_width="120dp"
                        android:layout_height="50dp"
                        android:text="Select Color"
                        android:textColor="#FFFFFF"
                        android:textSize="12sp" />

                </LinearLayout>

                <!-- Game View Background Priority -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Game View Background Image"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginTop="16dp"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Which background to use when browsing games"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/gameImagePreferenceChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/gameImagePrefFanart"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Fanart"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/gameImagePrefScreenshot"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Screenshot"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/gameImagePrefSolidColor"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Solid Color"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                </com.google.android.material.chip.ChipGroup>

                <!-- Game Color Picker (shown when Solid Color is selected) -->
                <LinearLayout
                    android:id="@+id/gameColorPickerLayout"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:visibility="gone"
                    android:layout_marginBottom="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Background Color"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <Button
                        android:id="@+id/gameColorPickerButton"
                        android:layout_width="120dp"
                        android:layout_height="50dp"
                        android:text="Select Color"
                        android:textColor="#FFFFFF"
                        android:textSize="12sp" />

                </LinearLayout>

                <!-- Video Support -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Video Playback"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Play videos when browsing games"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/videoSupportChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/videoOff"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Off"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/videoOn"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="On"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                </com.google.android.material.chip.ChipGroup>

                <!-- Video Settings (shown only when video is On) -->
                <LinearLayout
                    android:id="@+id/videoSettings"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:visibility="gone"
                    android:layout_marginTop="8dp"
                    android:layout_marginBottom="16dp"
                    android:padding="16dp"
                    android:background="#252525">

                    <!-- Video Delay -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="8dp">

                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Video Delay"
                            android:textColor="#FFFFFF"
                            android:textSize="16sp" />

                        <TextView
                            android:id="@+id/videoDelayText"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Instant"
                            android:textColor="#FFB74D"
                            android:textSize="16sp"
                            android:textStyle="bold"
                            android:minWidth="60dp"
                            android:gravity="end" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Time before switching from image to video"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <SeekBar
                        android:id="@+id/videoDelaySeekBar"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="16dp"
                        android:layout_marginEnd="16dp"
                        android:thumbTint="#FFB74D"
                        android:paddingTop="8dp"
                        android:paddingBottom="8dp"
                        android:minHeight="32dp"
                        android:max="10"
                        android:progress="0"
                        android:progressDrawable="@drawable/slider_progress_orange"
                        android:thumb="@drawable/slider_thumb"
                        android:splitTrack="false"
                        android:thumbOffset="0dp"
                        android:layout_marginBottom="20dp" />

                    <!-- Video Audio -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="8dp">

                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Video Audio"
                            android:textColor="#FFFFFF"
                            android:textSize="16sp" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Enable or disable video sound"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/videoAudioChipGroup"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        app:singleSelection="true"
                        app:selectionRequired="true">

                        <com.google.android.material.chip.Chip
                            android:id="@+id/videoAudioOff"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Off"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/videoAudioOn"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="On"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                    </com.google.android.material.chip.ChipGroup>

                </LinearLayout>

                <!-- ========== MUSIC SETTINGS START ========== -->
                <!-- DELETE THIS SECTION when removing music feature -->

                <!-- Master Music Toggle -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Enable Background Music"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginTop="24dp"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Play music while browsing systems and games"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/musicMasterChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/musicMasterOff"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Off"
                        android:checked="true"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/musicMasterOn"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="On"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                </com.google.android.material.chip.ChipGroup>

                <!-- Music Settings (shown only when music is On) -->
                <LinearLayout
                    android:id="@+id/musicSettings"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:visibility="gone"
                    android:layout_marginTop="8dp"
                    android:layout_marginBottom="16dp"
                    android:padding="16dp"
                    android:background="#252525">

                    <!-- System View Music -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="System View Music"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Play music while browsing systems"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/musicSystemChipGroup"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="20dp"
                        app:singleSelection="true"
                        app:selectionRequired="true">

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicSystemOff"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Off"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicSystemOn"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="On"
                            android:checked="true"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                    </com.google.android.material.chip.ChipGroup>

                    <!-- Game View Music -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Game View Music"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Play music while browsing games"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/musicGameChipGroup"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="20dp"
                        app:singleSelection="true"
                        app:selectionRequired="true">

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicGameOff"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Off"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicGameOn"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="On"
                            android:checked="true"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                    </com.google.android.material.chip.ChipGroup>

                    <!-- Screensaver Music -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Screensaver Music"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Play music during screensaver"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/musicScreensaverChipGroup"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="20dp"
                        app:singleSelection="true"
                        app:selectionRequired="true">

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicScreensaverOff"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Off"
                            android:checked="true"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicScreensaverOn"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="On"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                    </com.google.android.material.chip.ChipGroup>

                    <!-- Music During Videos -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Music During Companion Videos"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Behavior when Companion plays videos"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/musicVideoChipGroup"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="20dp"
                        app:singleSelection="true"
                        app:selectionRequired="true">

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicVideoContinue"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Continue (100%)"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicVideoDuck"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Lower (20%)"
                            android:checked="true"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicVideoPause"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Pause"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                    </com.google.android.material.chip.ChipGroup>

                    <!-- System-Specific Music -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Play System-Specific Music"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Use per-system music folders when available (falls back to generic)"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/musicSystemSpecificChipGroup"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="20dp"
                        app:singleSelection="true"
                        app:selectionRequired="true">

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicSystemSpecificOff"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Off"
                            android:checked="true"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicSystemSpecificOn"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="On"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                    </com.google.android.material.chip.ChipGroup>

                    <!-- Song Title Display -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Display Song Titles"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Show current song name while browsing"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/musicSongTitleChipGroup"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="20dp"
                        app:singleSelection="true"
                        app:selectionRequired="true">

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicSongTitleOff"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Off"
                            android:checked="true"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                        <com.google.android.material.chip.Chip
                            android:id="@+id/musicSongTitleOn"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="On"
                            android:textColor="#FFFFFF"
                            android:checkable="true"
                            app:chipBackgroundColor="@color/chip_background_selector"
                            app:chipStrokeColor="#FFB74D"
                            app:chipStrokeWidth="2dp" />

                    </com.google.android.material.chip.ChipGroup>

                    <!-- Song Title Duration (shown only when display is On) -->
                    <LinearLayout
                        android:id="@+id/musicSongTitleDurationSection"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:visibility="gone"
                        android:layout_marginBottom="20dp">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:gravity="center_vertical"
                            android:layout_marginBottom="8dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:text="Display Duration"
                                android:textColor="#FFFFFF"
                                android:textSize="16sp" />

                            <TextView
                                android:id="@+id/musicSongTitleDurationText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="3.0s"
                                android:textColor="#FFB74D"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:minWidth="60dp"
                                android:gravity="end" />
                        </LinearLayout>

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="How long to show the song title"
                            android:textColor="#999999"
                            android:textSize="13sp"
                            android:layout_marginBottom="8dp" />

                        <SeekBar
                            android:id="@+id/musicSongTitleDurationSeekBar"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="16dp"
                            android:layout_marginEnd="16dp"
                            android:thumbTint="#FFB74D"
                            android:paddingTop="8dp"
                            android:paddingBottom="8dp"
                            android:minHeight="32dp"
                            android:max="15"
                            android:progress="0"
                            android:progressDrawable="@drawable/slider_progress_orange"
                            android:thumb="@drawable/slider_thumb"
                            android:splitTrack="false"
                            android:thumbOffset="0dp" />

                        <!-- Background Opacity -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:layout_marginTop="16dp"
                            android:layout_marginBottom="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:text="Background Opacity"
                                android:textColor="#FFFFFF"
                                android:textSize="14sp" />

                            <TextView
                                android:id="@+id/musicSongTitleOpacityText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="80%"
                                android:textColor="#FFB74D"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:minWidth="60dp"
                                android:gravity="end" />
                        </LinearLayout>

                        <SeekBar
                            android:id="@+id/musicSongTitleOpacitySeekBar"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="16dp"
                            android:layout_marginEnd="16dp"
                            android:thumbTint="#FFB74D"
                            android:paddingTop="8dp"
                            android:paddingBottom="8dp"
                            android:minHeight="32dp"
                            android:max="20"
                            android:progress="16"
                            android:progressDrawable="@drawable/slider_progress_orange"
                            android:thumb="@drawable/slider_thumb"
                            android:splitTrack="false"
                            android:thumbOffset="0dp" />

                    </LinearLayout>

                </LinearLayout>

                <!-- ========== MUSIC SETTINGS END ========== -->

                <!-- Crossfade -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Animation Style"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Choose how images appear when browsing"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/animationStyleChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="20dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/animationNone"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="None"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/animationFade"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Fade"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/animationScaleFade"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Scale + Fade"
                        android:checked="true"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />


                    <com.google.android.material.chip.Chip
                        android:id="@+id/animationCustom"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Custom"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector"
                        app:chipStrokeColor="#FFB74D"
                        app:chipStrokeWidth="2dp" />

                </com.google.android.material.chip.ChipGroup>

                <!-- Custom Animation Settings (Hidden by default) -->
                <LinearLayout
                    android:id="@+id/customAnimationSettings"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:visibility="gone"
                    android:layout_marginTop="8dp"
                    android:layout_marginBottom="16dp"
                    android:padding="16dp"
                    android:background="#252525">

                    <!-- Duration Slider -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="8dp">

                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Duration"
                            android:textColor="#FFFFFF"
                            android:textSize="16sp" />

                        <TextView
                            android:id="@+id/animationDurationText"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="250ms"
                            android:textColor="#FFB74D"
                            android:textSize="16sp"
                            android:textStyle="bold"
                            android:minWidth="60dp"
                            android:gravity="end" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="How long the animation takes to complete"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <SeekBar
                        android:id="@+id/animationDurationSeekBar"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="16dp"
                        android:layout_marginBottom="16dp"
                        android:max="40"
                        android:progress="15"
                        android:thumbTint="#FFB74D"
                        android:paddingTop="8dp"
                        android:paddingBottom="8dp"
                        android:minHeight="32dp"
                        android:progressDrawable="@drawable/slider_progress_orange"
                        android:thumb="@drawable/slider_thumb"
                        android:splitTrack="false"
                        android:thumbOffset="0dp" />

                    <!-- Scale Amount Slider -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="8dp">

                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Scale Amount"
                            android:textColor="#FFFFFF"
                            android:textSize="16sp" />

                        <TextView
                            android:id="@+id/animationScaleText"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="95%"
                            android:textColor="#FFB74D"
                            android:textSize="16sp"
                            android:textStyle="bold"
                            android:minWidth="60dp"
                            android:gravity="end" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="100% = fade only, lower values add scale effect"
                        android:textColor="#999999"
                        android:textSize="13sp"
                        android:layout_marginBottom="8dp" />

                    <SeekBar
                        android:id="@+id/animationScaleSeekBar"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="16dp"
                        android:layout_marginBottom="16dp"
                        android:max="15"
                        android:progress="5"
                        android:thumbTint="#FFB74D"
                        android:paddingTop="8dp"
                        android:paddingBottom="8dp"
                        android:minHeight="32dp"
                        android:progressDrawable="@drawable/slider_progress_orange"
                        android:thumb="@drawable/slider_thumb"
                        android:splitTrack="false"
                        android:thumbOffset="0dp" />

                </LinearLayout>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- 2. VISUAL EFFECTS CARD -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardBackgroundColor="#1A1A1A"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <!-- Section Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@android:drawable/ic_menu_view"
                        app:tint="#03DAC6"
                        android:layout_marginEnd="12dp" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="VISUAL EFFECTS"
                        android:textColor="#03DAC6"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:letterSpacing="0.1" />
                </LinearLayout>

                <!-- Background Dimming -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Background Dimming"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp" />

                    <TextView
                        android:id="@+id/dimmingText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="20%"
                        android:textColor="#03DAC6"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:minWidth="50dp"
                        android:gravity="end" />
                </LinearLayout>

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Darkens background image which helps visibility of overlay image"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <SeekBar
                    android:id="@+id/dimmingSeekBar"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="16dp"
                    android:layout_marginEnd="16dp"
                    android:layout_marginBottom="24dp"
                    android:thumbTint="#03DAC6"
                    android:paddingTop="8dp"
                    android:paddingBottom="8dp"
                    android:minHeight="32dp"
                    android:progressDrawable="@drawable/slider_progress_teal"
                    android:thumb="@drawable/slider_thumb"
                    android:splitTrack="false"
                    android:thumbOffset="0dp" />

                <!-- Background Blur -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Background Blur"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp" />

                    <TextView
                        android:id="@+id/blurText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Off"
                        android:textColor="#03DAC6"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:minWidth="50dp"
                        android:gravity="end" />
                </LinearLayout>

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Applies blur effect to background"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <SeekBar
                    android:id="@+id/blurSeekBar"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="16dp"
                    android:layout_marginEnd="16dp"
                    android:thumbTint="#03DAC6"
                    android:paddingTop="8dp"
                    android:paddingBottom="8dp"
                    android:minHeight="32dp"
                    android:progressDrawable="@drawable/slider_progress_teal"
                    android:thumb="@drawable/slider_thumb"
                    android:splitTrack="false"
                    android:thumbOffset="0dp" />

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- 3. APPLICATION BEHAVIOR CARD -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardBackgroundColor="#1A1A1A"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <!-- Section Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@android:drawable/ic_menu_manage"
                        app:tint="#4CAF50"
                        android:layout_marginEnd="12dp" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="APPLICATION BEHAVIOR"
                        android:textColor="#4CAF50"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:letterSpacing="0.1" />
                </LinearLayout>

                <!-- Game Launch Behavior -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Game Launch Display"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Choose what to display while a game is running"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/gameLaunchBehaviorChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="24dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/gameLaunchBlackScreen"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Black"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/gameLaunchGameImage"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Game View Image"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        android:checked="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/gameLaunchDefaultImage"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Custom Image"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />
                </com.google.android.material.chip.ChipGroup>


                <!-- Screensaver Display -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Screensaver Display"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Choose what to display during ES-DE screensaver"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/screensaverBehaviorChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/screensaverBlackScreen"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Black"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/screensaverGameImage"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Game View Image"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        android:checked="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/screensaverDefaultImage"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Custom Image"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />
                </com.google.android.material.chip.ChipGroup>

                <!-- Black Overlay Toggle -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Double-Tap Black Overlay"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginTop="24dp"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Double-tap screen to show black overlay or play video"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/doubleTapChipGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/doubleTapOff"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Off"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        android:checked="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/blackOverlayOn"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Black Overlay"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/doubleTapVideoOn"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Play Video"
                        android:textColor="#FFFFFF"
                        android:checkable="true"
                        app:chipBackgroundColor="@color/chip_background_selector_green"
                        app:chipStrokeColor="#4CAF50"
                        app:chipStrokeWidth="2dp" />

                </com.google.android.material.chip.ChipGroup>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- 4. APP DRAWER CARD (moved from position 3) -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardBackgroundColor="#1A1A1A"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <!-- Section Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@android:drawable/ic_menu_sort_by_size"
                        app:tint="#CF6679"
                        android:layout_marginEnd="12dp" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="APP DRAWER"
                        android:textColor="#CF6679"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:letterSpacing="0.1" />
                </LinearLayout>

                <!-- App Visibility -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="App Visibility"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Choose which apps appear in the app drawer"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="12dp" />

                <Button
                    android:id="@+id/hideAppsButton"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Manage Apps"
                    android:textColor="#FFFFFF"
                    android:backgroundTint="#CF6679"
                    android:layout_marginBottom="24dp" />

                <!-- Drawer Opacity -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Drawer Opacity"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp" />

                    <TextView
                        android:id="@+id/drawerTransparencyText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="67%"
                        android:textColor="#CF6679"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:minWidth="50dp"
                        android:gravity="end" />
                </LinearLayout>

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Controls transparency of app drawer background"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <SeekBar
                    android:id="@+id/drawerTransparencySeekBar"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="16dp"
                    android:layout_marginEnd="16dp"
                    android:layout_marginBottom="24dp"
                    android:thumbTint="#CF6679"
                    android:paddingTop="8dp"
                    android:paddingBottom="8dp"
                    android:minHeight="32dp"
                    android:progressDrawable="@drawable/slider_progress_pink"
                    android:thumb="@drawable/slider_thumb"
                    android:splitTrack="false"
                    android:thumbOffset="0dp" />

                <!-- Grid Columns -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Grid Columns"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp" />

                    <TextView
                        android:id="@+id/columnCountText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="4"
                        android:textColor="#CF6679"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:minWidth="50dp"
                        android:gravity="end" />
                </LinearLayout>

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Number of columns in app drawer grid"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <SeekBar
                    android:id="@+id/columnCountSeekBar"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="16dp"
                    android:layout_marginEnd="16dp"
                    android:thumbTint="#CF6679"
                    android:paddingTop="8dp"
                    android:paddingBottom="8dp"
                    android:minHeight="32dp"
                    android:progressDrawable="@drawable/slider_progress_pink"
                    android:thumb="@drawable/slider_thumb"
                    android:splitTrack="false"
                    android:thumbOffset="0dp" />

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- 5. PATHS CARD -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardBackgroundColor="#1A1A1A"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <!-- Section Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@android:drawable/ic_menu_save"
                        app:tint="#BB86FC"
                        android:layout_marginEnd="12dp" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="PATHS"
                        android:textColor="#BB86FC"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:letterSpacing="0.1" />
                </LinearLayout>

                <!-- Media Path -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Downloaded Media Path"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Location of game artwork (fanart, screenshots, marquees)"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <TextView
                        android:id="@+id/mediaPathText"
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Default: /storage/emulated/0/ES-DE/downloaded_media"
                        android:textColor="#999999"
                        android:textSize="13sp" />

                    <TextView
                        android:id="@+id/mediaStatusText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="â—"
                        android:textSize="24sp"
                        android:textColor="#666666"
                        android:layout_marginStart="8dp" />

                </LinearLayout>

                <TextView
                    android:id="@+id/mediaStatusDescription"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Folder not found"
                    android:textColor="#666666"
                    android:textSize="12sp"
                    android:layout_marginBottom="12dp" />

                <Button
                    android:id="@+id/selectMediaPathButton"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Select Directory"
                    android:textColor="#FFFFFF"
                    android:backgroundTint="#BB86FC"
                    android:layout_marginBottom="24dp" />

                <!-- Scripts Path -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ES-DE Scripts"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Integration scripts that connect ES-DE with this app"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <TextView
                        android:id="@+id/scriptsPathText"
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Default: /storage/emulated/0/ES-DE/scripts"
                        android:textColor="#999999"
                        android:textSize="13sp" />

                    <TextView
                        android:id="@+id/scriptsStatusText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="â—"
                        android:textSize="24sp"
                        android:textColor="#666666"
                        android:layout_marginStart="8dp" />

                </LinearLayout>

                <TextView
                    android:id="@+id/scriptsStatusDescription"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Scripts not found"
                    android:textColor="#666666"
                    android:textSize="12sp"
                    android:layout_marginBottom="12dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <Button
                        android:id="@+id/selectScriptsPathButton"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Select Directory"
                        android:textColor="#FFFFFF"
                        android:backgroundTint="#BB86FC"
                        android:layout_marginEnd="12dp" />

                    <Button
                        android:id="@+id/createScriptsButton"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Create Scripts"
                        android:textColor="#FFFFFF"
                        android:backgroundTint="#03DAC6" />

                </LinearLayout>

                <!-- System Images Path -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="System Images Path (Optional)"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginTop="24dp"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Custom system images (PNG, JPG, WebP) to override game image files. Filenames must match ES-DE system shortnames (e.g., snes.webp)"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:id="@+id/systemPathText"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Default: /storage/emulated/0/ES-DE Companion/system_images"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="12dp" />

                <Button
                    android:id="@+id/selectSystemPathButton"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Select Directory"
                    android:textColor="#FFFFFF"
                    android:backgroundTint="#BB86FC"
                    android:layout_marginBottom="24dp" />

                <!-- System Logos Path -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="System Logos Path (Optional)"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Additional logos (SVG, PNG, JPG, WebP) to supplement built-in logos. Filenames must match ES-DE system shortnames (e.g., snes.svg, snes.png)"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:id="@+id/systemLogosPathText"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Default: /storage/emulated/0/ES-DE Companion/system_logos"
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="12dp" />

                <Button
                    android:id="@+id/selectSystemLogosPathButton"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Select Directory"
                    android:textColor="#FFFFFF"
                    android:backgroundTint="#BB86FC" />

                <!-- Custom Background Image Path -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Custom Background Image (Optional)"
                    android:textColor="#FFFFFF"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginTop="24dp"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Custom image to use as fallback and custom background (replaces built-in default). Supports PNG, JPG, WebP."
                    android:textColor="#999999"
                    android:textSize="13sp"
                    android:layout_marginBottom="8dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <TextView
                        android:id="@+id/customBackgroundPathText"
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Not set (using built-in default)"
                        android:textColor="#999999"
                        android:textSize="13sp" />

                    <TextView
                        android:id="@+id/customBackgroundStatusText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="â—"
                        android:textSize="24sp"
                        android:textColor="#666666"
                        android:layout_marginStart="8dp" />

                </LinearLayout>

                <TextView
                    android:id="@+id/customBackgroundStatusDescription"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Using built-in default"
                    android:textColor="#666666"
                    android:textSize="12sp"
                    android:layout_marginBottom="12dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <Button
                        android:id="@+id/selectCustomBackgroundButton"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Select Image"
                        android:textColor="#FFFFFF"
                        android:backgroundTint="#BB86FC"
                        android:layout_marginEnd="12dp" />

                    <Button
                        android:id="@+id/clearCustomBackgroundButton"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Clear"
                        android:textColor="#FFFFFF"
                        android:backgroundTint="#CF6679" />

                </LinearLayout>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- Version Info Footer -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:gravity="center"
            android:layout_marginTop="4dp"
            android:layout_marginBottom="8dp">

            <TextView
                android:id="@+id/versionText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ES-DE Companion"
                android:textColor="#666666"
                android:textSize="12sp"
                android:layout_marginBottom="4dp" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ES-DE dual-screen enhancement"
                android:textColor="#444444"
                android:textSize="11sp" />

        </LinearLayout>

        </LinearLayout>
    </ScrollView>

</RelativeLayout>